<!DOCTYPE html>
<html>
<head>
	<title>ng-crud</title>
	<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script type="text/javascript" src="angular.min.js"></script>
	<script type="text/javascript" src="app.js"></script>
</head>
<body ng-app="myApp" ng-controller="myController">
	  <!-- Create User Modal -->
	  <div class="modal fade" id="createUser" role="dialog">
	    <div class="modal-dialog">
	    
	      <!-- Create User Modal content-->
	      <div class="modal-content">
	        <div class="modal-header">
	          <button type="button" class="close" data-dismiss="modal">&times;</button>
	          <h4 class="modal-title">Create User</h4>
	        </div>
	        <div class="modal-body">
	          <form action="/action_page.php" name="createFrom">
	          	  <div class="form-group">
				    <label for="fname">Full Name</label>
				    <input type="text" class="form-control" id="fname" ng-model = "newUser.fullName" required="true">
				  </div>
				  <div class="form-group">
				    <label for="uname">User Name</label>
				    <input type="text" class="form-control" id="uname" ng-model = "newUser.userName" required="true">
				  </div>
				  <div class="form-group">
				    <label for="email">Email Address</label>
				    <input type="text" class="form-control" id="email" ng-model = "newUser.email" required="true">
				  </div>
				  <button type="submit" class="btn btn-default" data-dismiss="modal" ng-click = "saveUser()">Submit</button>
			</form>
	        </div>
	        <div class="modal-footer">
	          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        </div>
	      </div>
	      
	    </div>
	  </div>

	   <!-- Edit User Modal -->
	  <div class="modal fade" id="updateUser" role="dialog">
	    <div class="modal-dialog">
	    
	      <!-- Edit User Modal content-->
	      <div class="modal-content">
	        <div class="modal-header">
	          <button type="button" class="close" data-dismiss="modal">&times;</button>
	          <h4 class="modal-title">Update User</h4>
	        </div>
	        <div class="modal-body">
	          <form action="/action_page.php">
	          	  <div class="form-group">
				    <label for="fname">Full Name</label>
				    <input type="text" class="form-control" id="fname" ng-model="clickedUser.fullName">
				  </div>
				  <div class="form-group">
				    <label for="uname">User Name</label>
				    <input type="text" class="form-control" id="uname" ng-model="clickedUser.userName">
				  </div>
				  <div class="form-group">
				    <label for="email">Email Address</label>
				    <input type="email" class="form-control" id="email" ng-model="clickedUser.email">
				  </div>
				  <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="updateUser()">Update</button>
			  </form>
	        </div>
	        <div class="modal-footer">
	          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        </div>
	      </div>
	      
	    </div>
	  </div>

	  <!-- Delete Modal -->
		<div id="deleteUser" class="modal fade" role="dialog">
		  <div class="modal-dialog">

		    <!-- Modal content-->
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal">&times;</button>
		        <h4 class="modal-title">Are you sure?</h4>
		      </div>
		      <div class="modal-body" style="color:red">
		        <strong>You are going to delete {{clickedUser.fullName}}</strong>
		      </div>
		      <div class="modal-footer">
		      	<button type="button" class="btn btn-default pull-left" data-dismiss="modal" ng-click="deleteUser()">Yes</button>
		        <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
		      </div>
		    </div>

		  </div>
		</div>

	<hr>
	<div class="container">
		<!-- Trigger the modal with a button -->
		<button type="button" class="btn btn-info pull-right" data-toggle="modal" data-target="#createUser">Add New User</button>
		<h2 class="pull-left">All Users</h2>
		<span class="clearfix"></span>

		<table class="table table-striped">
    <thead>
      <tr>
        <th>Index</th>
        <th>Full Name</th>
        <th>User Name</th>
        <th>Email</th>
        <th>Edit</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="user in users">
        <td>{{$index + 1}}</td>
        <td>{{user.fullName}}</td>
        <td>{{user.userName}}</td>
        <td>{{user.email}}</td>
        <td>
        	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#updateUser" ng-click="selectUser(user)">Edit</button>
        </td>
        <td>
        	<button type="button" class="btn btn-danger" data-toggle="modal" data-target="#deleteUser" ng-click="selectUser(user)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

	</div>
	


<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
</body>
</html>